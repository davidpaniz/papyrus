<?xml version="1.0" encoding="utf-8"?>
<mx:HBox xmlns:mx="http://www.adobe.com/2006/mxml"
	 width="488" height="384"  >
	 	<mx:Script>
		<![CDATA[
			import org.papyrus.model.BusinessRule;
			import org.papyrus.services.Service;
			import org.papyrus.components.notification.NotificatorManager;
			import org.papyrus.services.BusinessRuleService;
			import mx.collections.ArrayCollection;
			import mx.rpc.events.ResultEvent;
			import mx.rpc.events.FaultEvent;
			import mx.controls.Alert;
			[Bindable]
			private var businessRuleList:ArrayCollection;
			private var businessRule:BusinessRule;
			
			private function save():void
			{
				this.businessRule = new BusinessRule();
				this.businessRule.id   = new Number(txtId.text);
				this.businessRule.description   = txtDescription.text;
				new BusinessRuleService().saveBusinessRule(businessRule, onResultSave);
			}
			
			private function onResultSave(businessRule:BusinessRule):void
			{
				NotificatorManager.warn(resourceManager.getString('general', 'save_successfully'));
			}
			
			private function onResultRemove(businessRule:BusinessRule):void
			{
				NotificatorManager.warn(resourceManager.getString('general', 'delete_successfully'));
			}
			
		]]>
	</mx:Script>
	<mx:VBox width="100%" >
		<mx:Text text="{resourceManager.getString('businessRule', 'businessRule.managemant')}" />
		<mx:Form id="businessRuleForm" width="100%" height="100%" defaultButton="{btSalvar}" >
			<mx:FormHeading label="{resourceManager.getString('businessRule', 'business_rule')}" width="100%"/>
			<mx:FormItem label="ID:" width="127" visible="false">
				<mx:TextInput width="100%" id="txtId" editable="false" enabled="false"/>
			</mx:FormItem>
			<mx:FormItem label="{resourceManager.getString('general', 'businessRule')}:" width="345">
				<mx:TextInput text="{businessRule.name}" width="100%" id="txtName" />
			</mx:FormItem>
			<mx:FormItem label="{resourceManager.getString('general', 'businessRule')}:" width="345">
				<mx:TextArea id="txtDescription" text="{businessRule.description}" />
			</mx:FormItem>
				<mx:ControlBar horizontalAlign="center">
			</mx:ControlBar>
		</mx:Form>
		<mx:ControlBar horizontalAlign="center">
			<mx:Button label="{resourceManager.getString('general', 'cancel')}" />
			<mx:Button label="{resourceManager.getString('general', 'save')}" id="btSalvar" click="save()"
				textAlign="center"/>
		</mx:ControlBar>
	</mx:VBox>

</mx:HBox>